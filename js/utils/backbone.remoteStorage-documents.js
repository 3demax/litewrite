define(["require","remotestorage-documents"],function(e){function r(e,t,n){var r;switch(e){case"read":r=t.id!==undefined?i(t):s();break;case"create":r=o(t);break;case"update":r=u(t);break;case"delete":r=a(t)}r?n.success(r):n.error("Record not found")}function i(e){return n.get(e.id)}function s(){var e=n.getIds(),t=[];for(var r=e.length-1;r>=0;r--)t.push(n.get(e[r]));return t}function o(e){return e.set(e.idAttribute,n.add(e.attributes)),e}function u(e){return n.set(e.id,e.attributes),e}function a(e){return n.setContent(e.id,""),e}var t=e("remotestorage-documents");remoteStorage.claimAccess("documents","rw");var n=t.getPrivateList("notes");return r})