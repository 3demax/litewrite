define(["require","jquery","underscore","backbone","text!templates/entries.html","docs","settings"],function(e){var t=e("jquery"),n=e("underscore"),r=e("backbone"),i=e("text!templates/entries.html"),s=e("docs"),o=e("settings"),u=r.View.extend({el:"#entries",initialize:function(){this.template=n.template(i),this.render(),s.on("change:title",function(e){this.$itemById(e.id).find("a").text(e.get("title"))},this),s.on("destroy",function(e){this.$itemById(e.id).remove()},this),s.on("add",this.render,this)},$itemById:function(e){return this.$(".item[data-id="+e+"]")},render:function(){this.$el.html(this.template({docs:s.toJSON()})),this.$selected=this.$itemById(o.get("openDocId")).addClass("selected")},events:{"click .item":"openDoc"},openDoc:function(e){e.preventDefault(),this.$selected.removeClass("selected"),this.$selected=t(e.currentTarget).addClass("selected"),o.save("openDocId",this.$selected.attr("data-id"))}});return u})